<!DOCTYPE html>
<html lang="ZH">
<head>
    <meta charset="UTF-8" />
    <title>RDP视觉框架-交易二级菜单Demo</title>
    <script language="javascript" src="js/config_menu.js"></script>
    <script language="javascript" src="system_view/js/system_header.js"></script>
    <object classid="CLSID:241C149B-7C2B-498A-8956-3C9910609577" id="NtScreen" height="0" width="0"></object>
</head>

<body style="overflow-x:hidden;overflow-y:hidden;" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" scroll="no">
    <div class="ctrl showmenu">czjy</div> <!-- 控制-显示左侧菜单，取值范围showmenu, hidemenu -->
    <div class="ctrl enable-menu"></div> <!-- 控制-置灰左侧菜单，取值范围enable-menu, disable-menu -->
    <div class="ctrl enable_time"></div> <!-- 控制-是否显示倒计时, 取值范围disable_time,enable_time -->
    <script language="javascript" src="system_view/js/system_body.js"></script>
    <!-- tt标签位置 -->
    <tt id="xtranid" style="display: none;">zzhk</tt>
    
    <div id="mainContent">
        <div id="title" class="header-text"></div>
        <div class="split-dashed"></div>

        <div id="menuContent" class="row" style="margin-top: 50px;">
        </div>
        
    </div>

    <div class="footer tran-footer" style="background: none; border: none;">
        <div class="pull-right">
            <button id="switchtt" class="ladda-button btn btn-primary btn-lg" data-style="">
                <span class="ladda-label">动态切换菜单tt</span>
                <span class="ladda-spinner"></span>
            </button>
            <button class="ladda-button btn btn-primary btn-lg" data-style="">
                <span class="ladda-label">确定</span>
                <span class="ladda-spinner"></span>
            </button>
        </div>
        <div>
            <button class="ladda-button btn btn-default btn-lg" data-style="">
                <span class="ladda-label">返回</span>
                <span class="ladda-spinner"></span>
            </button>
        </div>
    </div>
    
    <script language="javascript" src="system_view/js/system_footer.js"></script>
    <script type="text/javascript">
        var childMenu = {};
        for(index in systemMenu){
            var itemConfig = systemMenu[index];
            childMenu[itemConfig.id] = itemConfig;
        }

        // 动态切换二级菜单
        $('.menu li a').click(function(){
            $('.menu li a').removeClass('selected');
            $(this).addClass('selected');
            var items = childMenu[this.id].children;
            
            $('#menuContent').html('');
            $('#mainContent #title').text(childMenu[this.id].title || childMenu[this.id].name);
            if(items && items.length > 0){
                var menuHtml = [];
                for(index in items){
                    var item = items[index];
                    menuHtml.push('<button id="'+item.id+'" class="tranbtn detail float-left '+item.class+'">'+item.name+'</button>');
                }
                $('#menuContent').html(menuHtml.join('\n'));
            }
        });

        // 添加按钮事件
        $('#menuContent').on('click', 'button', function(){
            alert(this.id + ' clicked');
        });

        // 添加交易按钮事件
        $('#switchtt').click(function(){
            var switchTranid = $('#xtranid').html();
            $('#'+switchTranid).click();
        });

    </script>
</body>
</html>
